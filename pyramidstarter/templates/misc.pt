<div class="row">
    <div class="col-lg-8  col-lg-offset-2">
        <div class="panel-group" id="accordion">
            <!--Menu-->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h1 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#§options">Note</a>
                    </h1>
                </div>
                <div id="§options" class="panel-collapse collapse in">
                    <div class="panel-body">
                        Herein are some small scripts of no value written main for style experimenting.
                    </div>
                </div>
            </div>
            <!--in silico mutator-->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h1 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#§silico">Generate
                        mutants in silico</a></h1>
                </div>
                <div id="§silico" class="panel-collapse collapse">
                    <div class="panel-body">
                        <h2>In silico mutagenesis</h2>
                        <div id="silico_intro">
                            <p>You never know when you need a random sequence.</p>
                        </div>
                        <div class="bs-callout bs-callout-warning">Under construction. Half-abandonned actually as I
                            figured something out.
                        </div>
                        <div id="silico_input">
                            <div class="row">
                                <!--section-->
                                <h4>Sequence</h4>
                                <p>In frame nt sequence that is to be mutagenised.</p>
                                <div class="input-group">
                    <span class="input-group-addon" data-toggle="tooltip" data-placement="top"
                          title="In frame sequence that was mutagenised.">Sequence
                        </span>
                                    <textarea class="form-control custom-control" rows="5" style="resize:none"
                                              id="silico_sequence"
                                              name="silico_sequence"></textarea>

                                </div>
                                <br/></div>
                            <div class="row">
                                <div class="col-lg-8">
                                    <table class="table" width="100%">
                                        <tr>
                                            <td></td>
                                            <td align="center"><b>To</b></td>
                                        </tr>
                                        <tr>
                                            <td valign="middle"><b>From</b>&nbsp;&nbsp;</td>
                                            <td>
                                                <table width="50%" border="0" id="mutTable_raw">
                                                    <thead>
                                                    <tr>
                                                    </tr>
                                                    <tr>
                                                        <th width="20%"></th>
                                                        <th width="20%">A</th>
                                                        <th width="20%">T</th>
                                                        <th width="20%">G</th>
                                                        <th width="20%">C</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr>
                                                        <th>A</th>
                                                        <td>
                                                            <input class="mutation_identity" type="text" disabled=""
                                                                   id="A2A"
                                                                   value="—"/>
                                                        </td>
                                                        <td>
                                                            <input class="mutation_transversion" type="text" id="A2T"
                                                                   value="0"/>
                                                        </td>
                                                        <td>
                                                            <input class="mutation_Rtransition" id="A2G" type="text"
                                                                   value="0"/>
                                                        </td>
                                                        <td>
                                                            <input class="mutation_transversion" id="A2C" type="text"
                                                                   value="0"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th width="20%">T</th>
                                                        <td width="20%">
                                                            <input class="mutation_transversion" type="text" id="T2A"
                                                                   value="0"/>
                                                        </td>
                                                        <td>
                                                            <input class="mutation_identity" type="text" disabled=""
                                                                   id="T2T"
                                                                   value="—"/>
                                                        </td>
                                                        <td>
                                                            <input class="mutation_transversion" id="T2G" type="text"
                                                                   value="0"/>
                                                        </td>
                                                        <td>
                                                            <input class="mutation_Ytransition" id="T2C" type="text"
                                                                   value="0"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <th width="20%">G</th>
                                                        <td width="20%">
                                                            <input class="mutation_Rtransition" type="text" id="G2A"
                                                                   value="0"/>
                                                        </td>
                                                        <td>
                                                            <input class="mutation_transversion" type="text" id="G2T"
                                                                   value="0"/>
                                                        </td>
                                                        <td>
                                                            <input class="mutation_identity" disabled="" id="G2G"
                                                                   type="text"
                                                                   value="—"/>
                                                        </td>
                                                        <td>
                                                            <input class="mutation_transversion" id="G2C" type="text"
                                                                   value="0"/>
                                                        </td>
                                                    </tr>
                                                    <tr>
                                                        <td width="20%">C</td>
                                                        <td width="20%" bgcolor="#FFFF99">
                                                            <input type="text" id="C2A" value="0"/>
                                                        </td>
                                                        <td>
                                                            <input class="mutation_Ytransition" type="text" id="C2T"
                                                                   value="0"/>
                                                        </td>
                                                        <td>
                                                            <input class="mutation_transversion" id="C2G" type="text"
                                                                   value="0"/>
                                                        </td>
                                                        <td>
                                                            <input class="mutation_identity" disabled="" id="C2C"
                                                                   type="text"
                                                                   value="—"/>
                                                        </td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                            </td>
                                        </tr>
                                    </table>
                                    <br/>
                                </div>
                                <div class="col-lg-4">
                                    <div class="btn-group btn-group-justified" role="group" aria-label="...">
                                        <div class="btn-group" role="group">
                                            <label class="btn btn-default btn-file" id="silico_load_group">
                                                <i class="fa fa-upload" aria-hidden="true"></i> Load<input type="file"
                                                                                                           id='silico_load'
                                                                                                           style="display: none;">
                                            </label>
                                        </div>
                                        <div class="btn-group" role="group">
                                            <button type="button" class="btn btn-default dropdown-toggle pull-right"
                                                    data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                Preset
                                                <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li class="fake-link" ><span id="silico_opt_mutazyme">Mutazyme II</span></li>
                                                <li class="fake-link" ><span id="silico_opt_manganese">Mn Taq</span></li>
                                                <li class="fake-link" ><span id="silico_opt_MP6">MP6</span></li>
                                                <li class="fake-link" ><span id="silico_opt_uniform">Uniform</span></li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <br/></div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6 col-lg-offset-3">
                                <div class="btn-group" role="group" aria-label="...">
                                    <button type="button" class="btn btn-warning" id="silico_clear"><i
                                            class="fa fa-eraser"
                                            aria-hidden="true"></i>
                                        Clear
                                    </button>

                                    <button type="button" class="btn btn-info" id="silico_demo"><i class="fa fa-files-o"
                                                                                                   aria-hidden="true"></i>
                                        Demo
                                    </button>
                                    <button type="button" class="btn btn-success" id="silico_calculate"><i
                                            class="fa fa-exchange"
                                            aria-hidden="true"></i>
                                        Calculate
                                    </button>
                                </div>
                            </div>
                            <br/>
                        </div>
                        <div class="row hidden" id="silico_results">
                            <div class="alert alert-danger" role="alert"><span class="pycorpse"></span> Oh Snap.
                                Something went
                                wrong
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--minipedel for PCR-->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h1 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#§estimate">Pedel
                        but from PCR data</a></h1>
                </div>
                <div id="§estimate" class="panel-collapse collapse">
                    <div class="panel-body">
                        <h2>Predicted diversity (PCR mini-Pedel)</h2>
                        <h3>Description</h3>
                        <p>Normal pedel is server-side Python/C++, here it is JS. Strategising for more responsive
                            element...</p>
                        <p>The PCR starting point is cool, but best just make a modal calculator.</p>
                        <p>Roghly predict the mutation load from a PCR reaction based on the template and yields or
                            predict
                            a
                            target template concentration to aim for a given mutation load.
                            <br/>Do note that this is often off due to a variety of factors and should not be a
                            replacement
                            for
                            a test library, especially for manganese mutagenesis.
                            <br/>If the PCR has not been done yet, expect around 1,000 ng yield for a 25 µl PCR reaction
                            —the
                            PCR yields with Mutazyme are generally lower than with Phusion, so if you have a value with
                            a
                            different polymerase underestimate from that.</p>
                        <h3>Input</h3>

                        <!-- add switch?-->
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="input-group">
                                <span class="input-group-addon" data-toggle="tooltip"
                                      title="Mutation rate of the enzyme per kb per doubling, the value is between 0.9–1.6 for mutazyme (our figure is 0.9). For manganese it completely depends on your concentration and enzyme."
                                      data-placement="top">Mutation rate</span>
                                    <input type="number" min="0" class="form-control" placeholder="0.9"
                                           id="estimate_rate">
                                </div>
                                <br/>
                            </div>
                            <div class="col-lg-4">
                                <div class="input-group">
                                <span class="input-group-addon" data-toggle="tooltip"
                                      title="Yield of DNA from the PCR reaction (after purification) in ng. So multiply the nanodrop's ng/µl value by your volume in µl."
                                      data-placement="top">ng PCR yield</span>
                                    <input type="number" min="0" class="form-control" placeholder="1000"
                                           id="estimate_yield">
                                </div>
                                <br/>
                            </div>
                            <div class="col-lg-4">
                                <div class="input-group">
                                <span class="input-group-addon" data-toggle="tooltip"
                                      title="Template of DNA in the PCR reaction. If using a plasmid this is the concentration of the actual insert not the whole plasmid. That is, get your ng/µl concentration of plasmid divide it by the plasmid size and times it by the insert size and then multiply it by the volume added to your epPCR reaction"
                                      data-placement="top">ng PCR template</span>
                                    <input type="number" min="0" class="form-control" placeholder="5"
                                           id="estimate_template">
                                </div>
                                <br/>
                            </div>
                            <div class="col-lg-4">
                                <div class="input-group">
                                <span class="input-group-addon" data-toggle="tooltip" title="Size of amplicon in kb"
                                      data-placement="top">Size in kb</span>
                                    <input type="number" min="0" class="form-control" placeholder="1.0"
                                           id="estimate_size">
                                </div>
                                <br/>
                            </div>
                        </div><!--row-->
                        <div class="row">
                            <div class="col-lg-6 col-lg-offset-3">
                                <div class="btn-group" role="group" aria-label="...">
                                    <button type="button" class="btn btn-warning" id="estimate_clear"><i
                                            class="fa fa-eraser"
                                            aria-hidden="true"></i>
                                        Clear
                                    </button>

                                    <button type="button" class="btn btn-info" id="estimate_demo"><i
                                            class="fa fa-files-o"
                                            aria-hidden="true"></i>
                                        Demo
                                    </button>
                                    <button type="button" class="btn btn-success" id="estimate_calculate"><i
                                            class="fa fa-exchange" aria-hidden="true"></i> Calculate
                                    </button>
                                </div>
                            </div>
                            <br/>
                        </div>


                        <div id="estimate_results">
                            The number of doublings is <span id="estimate_doublings">xx</span>.<br/>
                            The expected mutational load is <span id="estimate_mloadkb">xx</span> per kb.<br/>
                            The expected mutational load is <span id="estimate_mload">xx</span> per amplicon.<br/>
                            <div id="estimate_chart"></div>
                        </div>
                    </div>
                </div>

            </div>
            <!--Codon balance-->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h1 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#§estimate">Codon
                        balance</a></h1>
                </div>
                <div id="§codon" class="panel-collapse collapse">
                    <div class="panel-body">
                        <div class="row">
                            <h3>Helper to plan degenerate codons</h3>
                            <div class="bs-callout bs-callout-warning">Under construction. The ones with question marks
                                fail
                                and this section I will make into a modal in the relevant sections!
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="row">
                                    <div class="input-group"><span class="input-group-addon">Codon</span><select
                                            class='selectpicker' aria-labelledby="codon_drop" id="codon_drop"
                                            title="Choose...">
                                        <option value="NNN"
                                                data-def="Generic scheme. Unbalanced and with 3/64 stop codons.">
                                            NNN
                                        </option>
                                        <option value="NNK"
                                                data-def="Common scheme, identical to NNS. Cuts the number of stop codons while still making tryptophan.">
                                            NNK
                                        </option>
                                        <option value="NNS"
                                                data-def="Common scheme, identical to NNK. Cuts the number of stop codons while still making a tryptophan">
                                            NNS
                                        </option>
                                        <option value="NAN" data-def="Gives charged amino acids of various sizes.">NAN
                                        </option>
                                        <option value="NTN" data-def="Gives hydrophobic residues.">NTN</option>
                                        <option value="NGN"
                                                data-def="Not generally empoyed alone: it yields GRWC —note the glycine. hence the NSN codon.">
                                            NGN
                                        </option>
                                        <option value="NCN" data-def="Gives small residues, but not glycine.">NCN
                                        </option>
                                        <option value="NSN"
                                                data-def="Gives small redisues including glycine and cysteine">
                                            NSN
                                        </option>
                                        <option value="NDT" data-def="">NDT</option>
                                        <option value="DBK" data-def="">DBK</option>
                                        <option value="NRT" data-def="">NRT</option>
                                        <option data-divider="true"></option>
                                        <option value="19c" data-def="">??? (19c)</option>
                                        <option value="20c" data-def="">Tang (20c)</option>
                                        <option value="21c" data-def="">??? (21c)</option>
                                        <option value="22c" data-def="">Kille (22c)</option>
                                        <option data-divider="true"></option>
                                        <option value="other" data-def="">other...</option>
                                    </select>
                                        <br/>

                                    </div>
                                </div>
                                <div class="row">
                                    <br/>
                                    <div id="codon_manual" hidden>
                                        <div class="input-group">
                                    <span class="input-group-addon" data-toggle="tooltip"
                                          title="The mutation used. The input is a string which can be simply four bases (e.g. 'NNK') or multiple codons separated by a space and optionally prefixed with a interger number denoting their ratios (e.g. '12NDT 6VHA 1TGG 1ATG') or a special mix (e.g. 'Tang')."
                                          data-placement="top">Scheme</span>
                                            <input type="text" class="form-control" placeholder="NNK"
                                                   id="codon_mutation">
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div id="codon_graph"></div>
                            </div>
                            <div id="codon_result"></div>
                        </div>


                    </div>
                </div>

            </div>

            <!--PCR -->
            <div class="panel panel-default">
                <div class="panel-heading">
                    <h1 class="panel-title"><a data-toggle="collapse" data-parent="#accordion" href="#§yield">PCR
                        maths</a></h1>
                </div>
                <div id="§yield" class="panel-collapse collapse">
                    <div class="panel-body">
                        <h2>Theoretical maximum PCR yield</h2>
                        <h3>Description</h3>
                        <div class="bs-callout bs-callout-info">This is just an easy demo. It works, but it's kind of
                            pointless
                            as your yield will be around 50 ng per µl rxn and nowhere close to the theoretical maximum.
                            It was
                            made simply as a demo self standing block.
                        </div>
                        <p>To predict how many doubling one could get it is often handy to know the theoretical maximum
                            aDNA
                            yield from a PCR.
                            As is clear from a QPCR curve, a PCR does not run forever and stops after some cycles,
                            either the
                            primers or dNTPs are finished.<br/>
                            This is a rough guess for various reasons.
                        <ul>
                            <li>This theoretical maximum is not attainable due to minor products or PCR poisoning by
                                various
                                compounds (<i>e.g.</i> dUTP, dITP, dNDPs, magnesium pyrophosphate crystals <i>etc.</i>)
                            </li>
                            <li>It could even be higher due to pippetting inaccuracies, spectral contaminants
                                (<i>e.g.</i>
                                isopropanol from QG buffer).
                            </li>
                            <li>Not all bases are used equally...</li>
                        </ul>
                        <br/>
                        N.B. A 20 nt primer final concentration of 2.50 ng/µl (an oddity of the Genemorph II kit) is
                        0.38 µM.
                        </p>
                        <h3>Input</h3>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="input-group">
                            <span class="input-group-addon" data-toggle="tooltip" title="The reaction volume"
                                  data-placement="top">µl reaction</span>
                                    <input type="number" min="0" class="form-control" placeholder="25"
                                           id="yield_reaction">
                                </div>
                                <br/>
                            </div>
                            <div class="col-lg-4">
                                <div class="input-group">
                            <span class="input-group-addon" data-toggle="tooltip"
                                  title="The size of the amplicon in bases. Preferably minus the length the primers, but really it does not matter, so within 100 bp will be all good."
                                  data-placement="top">Amplicon size</span>
                                    <input type="text" class="form-control" placeholder="1000" id="yield_size">
                                </div>
                                <br/>
                            </div>
                            <div class="col-lg-4">
                                <div class="input-group">
                            <span class="input-group-addon" data-toggle="tooltip"
                                  title="Method used: full overlap (traditional) of primers or staggered overlap"
                                  data-placement="top">Concentration</span>
                                    <input type="checkbox" class="switch" id="yield_calc_method" checked
                                           data-off-text="Calc."
                                           data-on-text="Final" data-switch-value="large" data-off-color="warning"
                                           checked>
                                </div>
                                <br/>
                            </div>

                        </div>
                        <div class="row">
                            <div class="col-lg-4">
                                <div class="input-group">
                            <span class="input-group-addon" data-toggle="tooltip" title="The primer volume"
                                  data-placement="top">Final µM primers</span>
                                    <input type="number" min="0" step="1" class="form-control" placeholder="0.5"
                                           id="yield_final_primer_conc">
                                </div>
                                <br/>
                            </div>
                            <div class="col-lg-4">
                                <div class="input-group">
                            <span class="input-group-addon" data-toggle="tooltip" title="The primer volume"
                                  data-placement="top">µM primers</span>
                                    <input type="number" min="0" step="1" class="form-control" placeholder="10"
                                           id="yield_primer_conc">
                                </div>
                                <br/>
                            </div>
                            <div class="col-lg-4">
                                <div class="input-group">
                            <span class="input-group-addon" data-toggle="tooltip" title="The primer volume"
                                  data-placement="top">µl primers</span>
                                    <input type="number" min="0" step="1" class="form-control" placeholder="1.25"
                                           id="yield_primer_vol">
                                </div>
                                <br/>
                            </div>
                            <div class="col-lg-4">
                                <div class="input-group">
                            <span class="input-group-addon" data-toggle="tooltip"
                                  title="The dNTP final concentration (all four together)" data-placement="top">final µM dNTP</span>
                                    <input type="number" min="0" step="1" class="form-control" placeholder="800"
                                           id="yield_final_dNTP_conc">
                                </div>
                                <br/>
                            </div>
                            <div class="col-lg-4">
                                <div class="input-group">
                            <span class="input-group-addon" data-toggle="tooltip"
                                  title="The dNTP concentration (all four together)" data-placement="top">µM dNTP</span>
                                    <input type="number" min="0" step="1" class="form-control" placeholder="40"
                                           id="yield_dNTP_conc">
                                </div>
                                <br/>
                            </div>
                            <div class="col-lg-4">
                                <div class="input-group">
                            <span class="input-group-addon" data-toggle="tooltip" title="The dNTP volume added"
                                  data-placement="top">µl dNTP</span>
                                    <input type="number" min="0" step="1" class="form-control" placeholder="0.5"
                                           id="yield_dNTP_vol">
                                </div>
                                <br/>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-6 col-lg-offset-3">
                                <div class="btn-group" role="group" aria-label="...">
                                    <button type="button" class="btn btn-warning" id="yield_clear"><i
                                            class="fa fa-eraser"
                                            aria-hidden="true"></i>
                                        Clear
                                    </button>

                                    <button type="button" class="btn btn-info" id="yield_demo"><i class="fa fa-files-o"
                                                                                                  aria-hidden="true"></i>
                                        Demo
                                    </button>
                                    <button type="button" class="btn btn-success" id="yield_calculate"><i
                                            class="fa fa-exchange"
                                            aria-hidden="true"></i>
                                        Calculate
                                    </button>
                                </div>
                            </div>
                            <br/>
                        </div>
                        <div class="row">
                            <div class="well">
                                <div id="yield_result"></div>
                            </div>
                        </div>

                    </div>
                </div>

            </div>
        </div>

    </div>
</div>